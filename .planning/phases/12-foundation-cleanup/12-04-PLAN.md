---
phase: 12-foundation-cleanup
plan: 04
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/ios/trendy/Views/Settings/DebugStorageView.swift
  - apps/ios/trendy/Views/Geofence/AddGeofenceView.swift
  - apps/ios/trendy/Views/Components/Properties/DynamicPropertyFieldsView.swift
  - apps/ios/trendy/Utilities/ScreenshotMockData.swift
  - apps/ios/trendy/Views/Settings/CalendarImportView.swift
  - apps/ios/trendy/Views/HealthKit/HealthKitSettingsView.swift
  - apps/ios/trendy/Views/HealthKit/ManageHealthKitCategoriesView.swift
  - apps/ios/trendy/Views/HealthKit/HistoricalImportModalView.swift
autonomous: true

must_haves:
  truths:
    - "Zero print() statements in UI view modules"
    - "All logging uses structured Log.* categories"
    - "App still compiles and runs normally"
  artifacts:
    - path: "apps/ios/trendy/Views/Settings/DebugStorageView.swift"
      provides: "Debug view with structured logging"
      contains: "Log."
    - path: "apps/ios/trendy/Views/HealthKit/HealthKitSettingsView.swift"
      provides: "HealthKit settings with structured logging"
      contains: "Log.healthKit"
  key_links:
    - from: "DebugStorageView.swift"
      to: "Logger.swift"
      via: "import and use Log.* categories"
      pattern: "Log\\.(data|general)"
---

<objective>
Replace all print() statements in UI views and debug utilities with structured logging

Purpose: Complete the print() cleanup by converting remaining low-priority files (debug views, settings views, mock data). These are less critical but still contribute to console noise.

Output: Eight files converted from print() to Log.* structured logging
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/12-foundation-cleanup/12-CONTEXT.md
@.planning/phases/12-foundation-cleanup/12-RESEARCH.md
@apps/ios/trendy/Utilities/Logger.swift
</context>

<tasks>

<task type="auto">
  <name>Task 1: Convert debug and settings view print statements</name>
  <files>apps/ios/trendy/Views/Settings/DebugStorageView.swift, apps/ios/trendy/Views/Settings/CalendarImportView.swift, apps/ios/trendy/Utilities/ScreenshotMockData.swift</files>
  <action>
Replace print() statements in debug and utility files:

**DebugStorageView.swift (12 prints):**
1. Use Log.data category for storage debugging
2. Storage statistics: Log.data.debug
3. Clear/reset operations: Log.data.info
4. Add context for counts, sizes, operation names
5. Keep #if DEBUG wrappers if present

**CalendarImportView.swift (4 prints):**
1. Use Log.calendar category
2. Import UI interactions: Log.calendar.debug
3. Selection changes: Log.calendar.debug
4. Add context for calendar_name, event_count

**ScreenshotMockData.swift (5 prints):**
1. Use Log.general category (mock data generation)
2. Mock data creation: Log.general.debug
3. Keep #if DEBUG wrappers (this is likely DEBUG-only code)
4. These may be acceptable to leave as print() if truly debug-only and isolated

Note: ScreenshotMockData is test utility code. If all calls are inside #if DEBUG blocks, consider leaving as print() for simplicity. Use judgment.
  </action>
  <verify>
1. `grep -c "print(" apps/ios/trendy/Views/Settings/DebugStorageView.swift` returns 0
2. `grep -c "print(" apps/ios/trendy/Views/Settings/CalendarImportView.swift` returns 0
3. Build succeeds
  </verify>
  <done>Zero print() statements in debug and settings views</done>
</task>

<task type="auto">
  <name>Task 2: Convert geofence and property view print statements</name>
  <files>apps/ios/trendy/Views/Geofence/AddGeofenceView.swift, apps/ios/trendy/Views/Components/Properties/DynamicPropertyFieldsView.swift</files>
  <action>
Replace print() statements in geofence and property views:

**AddGeofenceView.swift (6 prints):**
1. Use Log.geofence category
2. Form state changes: Log.geofence.debug
3. Location updates: Log.geofence.debug
4. Save operations: Log.geofence.info
5. Add context for latitude, longitude, radius, name

**DynamicPropertyFieldsView.swift (6 prints):**
1. Use Log.ui category (UI component for property editing)
2. Field state changes: Log.ui.debug
3. Validation: Log.ui.debug
4. Add context for property_key, field_type
  </action>
  <verify>
1. `grep -c "print(" apps/ios/trendy/Views/Geofence/AddGeofenceView.swift` returns 0
2. `grep -c "print(" apps/ios/trendy/Views/Components/Properties/DynamicPropertyFieldsView.swift` returns 0
3. Build succeeds
  </verify>
  <done>Zero print() statements in geofence and property views</done>
</task>

<task type="auto">
  <name>Task 3: Convert HealthKit view print statements</name>
  <files>apps/ios/trendy/Views/HealthKit/HealthKitSettingsView.swift, apps/ios/trendy/Views/HealthKit/ManageHealthKitCategoriesView.swift, apps/ios/trendy/Views/HealthKit/HistoricalImportModalView.swift</files>
  <action>
Replace print() statements in HealthKit-related views:

**HealthKitSettingsView.swift (3 prints):**
1. Use Log.healthKit category
2. Settings UI interactions: Log.healthKit.debug
3. Toggle states: Log.healthKit.debug
4. Add context for category_name, enabled

**ManageHealthKitCategoriesView.swift (2 prints):**
1. Use Log.healthKit category
2. Category selection: Log.healthKit.debug
3. Add context for category_name, action

**HistoricalImportModalView.swift (1 print):**
1. Use Log.healthKit category
2. Import modal interactions: Log.healthKit.debug
3. Add context for date_range if applicable
  </action>
  <verify>
1. `grep -c "print(" apps/ios/trendy/Views/HealthKit/HealthKitSettingsView.swift` returns 0
2. `grep -c "print(" apps/ios/trendy/Views/HealthKit/ManageHealthKitCategoriesView.swift` returns 0
3. `grep -c "print(" apps/ios/trendy/Views/HealthKit/HistoricalImportModalView.swift` returns 0
4. Build succeeds
  </verify>
  <done>Zero print() statements in HealthKit views</done>
</task>

</tasks>

<verification>
After all tasks complete:

1. Verify zero prints in all target files:
```bash
for f in Views/Settings/DebugStorageView.swift Views/Geofence/AddGeofenceView.swift Views/Components/Properties/DynamicPropertyFieldsView.swift Utilities/ScreenshotMockData.swift Views/Settings/CalendarImportView.swift Views/HealthKit/HealthKitSettingsView.swift Views/HealthKit/ManageHealthKitCategoriesView.swift Views/HealthKit/HistoricalImportModalView.swift; do
  count=$(grep -c 'print(' "apps/ios/trendy/$f" 2>/dev/null || echo 0)
  echo "$f: $count"
done
```

2. Verify build succeeds:
```bash
cd apps/ios && xcodebuild -scheme "Trendy (Local)" -destination "platform=iOS Simulator,name=iPhone 16" build 2>&1 | grep -E "(BUILD|error:)"
```

3. Count total remaining print statements in iOS app:
```bash
grep -r "print(" apps/ios/trendy --include="*.swift" | grep -v "// " | wc -l
```
</verification>

<success_criteria>
- [ ] Zero print() statements in DebugStorageView.swift (was 12)
- [ ] Zero print() statements in AddGeofenceView.swift (was 6)
- [ ] Zero print() statements in DynamicPropertyFieldsView.swift (was 6)
- [ ] Zero or minimal print() in ScreenshotMockData.swift (was 5, DEBUG-only acceptable)
- [ ] Zero print() statements in CalendarImportView.swift (was 4)
- [ ] Zero print() statements in HealthKitSettingsView.swift (was 3)
- [ ] Zero print() statements in ManageHealthKitCategoriesView.swift (was 2)
- [ ] Zero print() statements in HistoricalImportModalView.swift (was 1)
- [ ] All files use Log.* with appropriate categories
- [ ] iOS app builds successfully
</success_criteria>

<output>
After completion, create `.planning/phases/12-foundation-cleanup/12-04-SUMMARY.md`
</output>
