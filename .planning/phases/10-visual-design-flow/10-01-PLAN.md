---
phase: 10-visual-design-flow
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/ios/trendy.xcodeproj/project.pbxproj
  - apps/ios/trendy/Views/Onboarding/Components/OnboardingProgressBar.swift
  - apps/ios/trendy/Views/Onboarding/Components/OnboardingHeroView.swift
autonomous: true

must_haves:
  truths:
    - "Progress bar component renders a horizontal bar with filled/unfilled portions"
    - "Hero view component renders SF Symbol on gradient background"
    - "ConfettiSwiftUI package is available for import in Xcode"
  artifacts:
    - path: "apps/ios/trendy/Views/Onboarding/Components/OnboardingProgressBar.swift"
      provides: "Progress bar component with spring animation"
      min_lines: 30
    - path: "apps/ios/trendy/Views/Onboarding/Components/OnboardingHeroView.swift"
      provides: "Reusable hero layout with gradient and symbol"
      min_lines: 40
  key_links:
    - from: "OnboardingProgressBar"
      to: "Color.dsPrimary, Color.dsBorder"
      via: "Design system colors"
      pattern: "Color\\.ds"
    - from: "OnboardingHeroView"
      to: "LinearGradient"
      via: "Gradient background"
      pattern: "LinearGradient"
---

<objective>
Create foundational visual components for the redesigned onboarding flow.

Purpose: All onboarding screens share a progress bar and hero layout pattern. Building these as reusable components ensures design consistency (DESIGN-02) and reduces duplication across screen redesigns.

Output: Two new SwiftUI components (OnboardingProgressBar, OnboardingHeroView) and ConfettiSwiftUI package dependency added to Xcode project.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/10-visual-design-flow/10-CONTEXT.md
@.planning/phases/10-visual-design-flow/10-RESEARCH.md

# Existing patterns
@apps/ios/trendy/Views/Onboarding/CreateEventTypeView.swift (contains old ProgressIndicatorView)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add ConfettiSwiftUI Package</name>
  <files>apps/ios/trendy.xcodeproj/project.pbxproj</files>
  <action>
Add ConfettiSwiftUI Swift Package to the Xcode project.

Package URL: https://github.com/simibac/ConfettiSwiftUI
Version: 2.0.0 or later (up to next major version)

This requires modifying project.pbxproj to add the package reference. Use the same pattern as existing packages in the project (e.g., Supabase Swift SDK).

The package will be used in Plan 05 for the celebration animation on OnboardingFinishView.

NOTE: This is an SPM package added directly to Xcode, not a CocoaPods or manual dependency. Modify project.pbxproj to include XCRemoteSwiftPackageReference and XCSwiftPackageProductDependency entries.
  </action>
  <verify>
Open project in Xcode and verify:
1. Package appears in Navigator > Package Dependencies
2. `import ConfettiSwiftUI` compiles without error in a test file

Or verify via command line:
```bash
grep -l "ConfettiSwiftUI" apps/ios/trendy.xcodeproj/project.pbxproj
```
  </verify>
  <done>ConfettiSwiftUI package is added to Xcode project and can be imported</done>
</task>

<task type="auto">
  <name>Task 2: Create OnboardingProgressBar Component</name>
  <files>apps/ios/trendy/Views/Onboarding/Components/OnboardingProgressBar.swift</files>
  <action>
Create a new file at `apps/ios/trendy/Views/Onboarding/Components/OnboardingProgressBar.swift`.

Create the Components directory if it doesn't exist.

The progress bar should:
1. Accept a `progress: Double` parameter (0.0 to 1.0)
2. Use GeometryReader to calculate fill width
3. Display unfilled track in Color.dsBorder
4. Display filled portion in Color.dsPrimary
5. Animate fill changes with spring animation (response: 0.3, dampingFraction: 0.8) per RESEARCH.md
6. Use RoundedRectangle with cornerRadius: 4
7. Fixed height of 4 points (thin bar per CONTEXT.md)
8. No interactivity (display only per CONTEXT.md)

Per CONTEXT.md decisions:
- Progress bar style (not dots or step numbers)
- Positioned at top of screen, below safe area
- Smooth fill animation when advancing (~0.3s)
- Display only â€” not interactive/tappable
- Accent/brand color for filled portion
- Visible track showing unfilled portion (gray/muted)

Include SwiftUI Preview showing multiple progress states (0%, 50%, 100%).

This component replaces the dot-based ProgressIndicatorView in CreateEventTypeView.swift (that will be updated in Plan 04).
  </action>
  <verify>
1. File exists at correct path
2. Build succeeds: `cd apps/ios && xcodebuild -scheme trendy -destination 'platform=iOS Simulator,name=iPhone 16 Pro' build 2>&1 | grep -E "(error:|BUILD)"` shows BUILD SUCCEEDED
3. Preview renders in Xcode
  </verify>
  <done>OnboardingProgressBar component exists and renders progress bar with spring animation</done>
</task>

<task type="auto">
  <name>Task 3: Create OnboardingHeroView Component</name>
  <files>apps/ios/trendy/Views/Onboarding/Components/OnboardingHeroView.swift</files>
  <action>
Create a new file at `apps/ios/trendy/Views/Onboarding/Components/OnboardingHeroView.swift`.

The hero view should:
1. Accept parameters:
   - `symbolName: String` (SF Symbol name)
   - `gradientColors: [Color]` (for LinearGradient background)
   - Optional `symbolAnimation: Bool = true` (whether to show subtle pulse)
2. Display a full-width hero area with gradient background
3. Render SF Symbol centered, large (80pt font, medium weight per RESEARCH.md)
4. White foreground color for symbol with subtle glow effect (shadow)
5. Fixed height of 280 points per RESEARCH.md
6. Use LinearGradient from topLeading to bottomTrailing
7. If symbolAnimation enabled, add subtle scale pulse animation (1.0 to 1.05, 2-3s loop) per RESEARCH.md open question recommendation

Per CONTEXT.md decisions:
- Full-bleed hero layout with large visual at top
- Hero area uses SF Symbols with gradient backgrounds
- Dark mode native aesthetic with deep backgrounds and glowing accents
- Respects system light/dark mode preference

Include SwiftUI Preview showing different symbol/color combinations.
  </action>
  <verify>
1. File exists at correct path
2. Build succeeds: `cd apps/ios && xcodebuild -scheme trendy -destination 'platform=iOS Simulator,name=iPhone 16 Pro' build 2>&1 | grep -E "(error:|BUILD)"` shows BUILD SUCCEEDED
3. Preview renders in Xcode showing gradient background and SF Symbol
  </verify>
  <done>OnboardingHeroView component exists with gradient background, centered symbol, and optional pulse animation</done>
</task>

</tasks>

<verification>
After all tasks:
1. Project builds without errors
2. Both component files exist in Components directory
3. ConfettiSwiftUI can be imported
4. Components use design system colors (Color.ds*)
5. OnboardingProgressBar animates with spring
6. OnboardingHeroView displays gradient with symbol
</verification>

<success_criteria>
1. `apps/ios/trendy/Views/Onboarding/Components/` directory exists with 2 Swift files
2. ConfettiSwiftUI package reference in project.pbxproj
3. `xcodebuild build` succeeds for iOS Simulator target
4. OnboardingProgressBar accepts progress Double and animates
5. OnboardingHeroView accepts symbolName and gradientColors
</success_criteria>

<output>
After completion, create `.planning/phases/10-visual-design-flow/10-01-SUMMARY.md`
</output>
