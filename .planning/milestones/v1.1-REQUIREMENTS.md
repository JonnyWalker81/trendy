# Requirements Archive: v1.1 Onboarding Overhaul

**Archived:** 2026-01-21
**Status:** SHIPPED

This is the archived requirements specification for v1.1.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

# Requirements: Trendy v1.1 Onboarding Overhaul

**Defined:** 2026-01-19
**Core Value:** Effortless tracking — users should set up once and forget about it

## v1.1 Requirements

Requirements for the onboarding overhaul. Each maps to roadmap phases.

### State Management

- [x] **STATE-01**: Onboarding completion status stored in backend database (source of truth)
- [x] **STATE-02**: Backend endpoint to get/set user's onboarding status
- [x] **STATE-03**: Local cache of onboarding status for fast app launches
- [x] **STATE-04**: App determines launch state from local cache before any UI renders (no flash)
- [x] **STATE-05**: Single enum-based route state (`loading`, `onboarding`, `authenticated`)
- [x] **STATE-06**: Returning users never see onboarding screens
- [x] **STATE-07**: Unauthenticated returning users go directly to login
- [x] **STATE-08**: Replace NotificationCenter routing with shared Observable
- [x] **STATE-09**: Sync onboarding status from backend on login (updates local cache)

### Visual Design

- [x] **DESIGN-01**: Modern layouts for all onboarding screens
- [x] **DESIGN-02**: Consistent design language throughout flow
- [x] **DESIGN-03**: Single loading view matching Launch Screen aesthetic
- [x] **DESIGN-04**: PhaseAnimator/KeyframeAnimator for polished step transitions
- [x] **DESIGN-05**: Progress indicator showing steps remaining
- [x] **DESIGN-06**: Celebration animation on onboarding completion

### Flow & UX

- [x] **FLOW-01**: Flow order is Welcome -> Auth -> CreateEventType -> LogFirstEvent -> Permissions -> Finish
- [x] **FLOW-02**: Pre-permission priming screens explain value before system dialog
- [x] **FLOW-03**: Skip option available with explanation of what user will miss
- [x] **FLOW-04**: Each permission request has contextual benefit messaging

### Accessibility

- [x] **A11Y-01**: All onboarding screens support VoiceOver
- [x] **A11Y-02**: Animations respect `accessibilityReduceMotion` preference

## Future Requirements

Deferred to later milestones. Tracked but not in current roadmap.

### Enhanced Personalization

- **PERS-01**: Value-first flow (let user try before requiring auth)
- **PERS-02**: Contextual permission requests (defer to first feature use)
- **PERS-03**: First event celebration with confetti

## Out of Scope

Explicitly excluded. Documented to prevent scope creep.

| Feature | Reason |
|---------|--------|
| Tutorial videos | Near 100% skip rate; static screens sufficient |
| Mandatory email verification before access | 27% never verify; blocks users |
| 5+ static intro screens | Causes abandonment; keep concise |
| Value-first flow (try before auth) | Significant architecture change; defer to v1.2 |
| Contextual permission requests | Requires feature flags and analytics; defer |

## Traceability

Which phases cover which requirements.

| Requirement | Phase | Status |
|-------------|-------|--------|
| STATE-01 | Phase 8 | Complete |
| STATE-02 | Phase 8 | Complete |
| STATE-03 | Phase 9 | Complete |
| STATE-04 | Phase 9 | Complete |
| STATE-05 | Phase 9 | Complete |
| STATE-06 | Phase 9 | Complete |
| STATE-07 | Phase 9 | Complete |
| STATE-08 | Phase 9 | Complete |
| STATE-09 | Phase 9 | Complete |
| DESIGN-01 | Phase 10 | Complete |
| DESIGN-02 | Phase 10 | Complete |
| DESIGN-03 | Phase 10 | Complete |
| DESIGN-04 | Phase 10 | Complete |
| DESIGN-05 | Phase 10 | Complete |
| DESIGN-06 | Phase 10 | Complete |
| FLOW-01 | Phase 10 | Complete |
| FLOW-02 | Phase 10 | Complete |
| FLOW-03 | Phase 10 | Complete |
| FLOW-04 | Phase 10 | Complete |
| A11Y-01 | Phase 11 | Complete |
| A11Y-02 | Phase 11 | Complete |

**Coverage:**
- v1.1 requirements: 21 total
- Mapped to phases: 21
- Unmapped: 0

---

## Milestone Summary

**Shipped:** 21 of 21 v1.1 requirements
**Adjusted:** None — all requirements implemented as specified
**Dropped:** None

---
*Archived: 2026-01-21 as part of v1.1 milestone completion*
